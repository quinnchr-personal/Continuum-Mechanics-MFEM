# Configuration for diffusion_mms_ale: ALE backward Euler driver, Example 7.3.
#
# Paper: Ivančić, Sheu, Solovchuk — arXiv:1809.06553v1 (2018)
#
# PDE:   du/dt - alpha*Lap(u) = f   on Omega(t) x (0,T)
# Exact: u(x,t) = sin(t) * cos(2*(x-0.5)^2 + 2*(y-0.5)^2)
#
# The mesh stays in the REFERENT configuration. Apply "Warp By Vector" using
# the 'ale_displacement' field in ParaView to view the physical domain.
#
# Quick-start:
#   ./diffusion_mms_ale                      # runs accuracy_a, dt=0.05
#   ./diffusion_mms_ale -i Input/input_diffusion_mms_ale.yaml
#
# To compare identity vs accuracy_a vs accuracy_b, change ale_map below.

# --- Mesh -------------------------------------------------------------------
mesh_file: Mesh/unit_square.msh
order: 1
serial_ref_levels: 1
par_ref_levels: 0

# --- Physics ----------------------------------------------------------------
alpha: 0.1
dt: 0.05
t_final: 2.0

# ALE map: identity | accuracy_a | accuracy_b
#   identity   — no mesh motion; result should match diffusion_mms.cpp
#   accuracy_a — Map A from Example 7.3 (smooth sinusoidal deformation)
#   accuracy_b — Map B from Example 7.3 (product-of-parabolae deformation)
ale_map: identity

# --- Solver -----------------------------------------------------------------
petsc_options_file: Input/petsc.opts
linear_max_iter: 400
linear_rel_tol: 1.0e-10
linear_abs_tol: 0.0

# --- Output -----------------------------------------------------------------
output_path: ParaView/diffusion_mms_ale
save_paraview: true

# paraview_every: how often to write a snapshot.
#   0 = initial and final steps only (small output)
#   1 = every step (full time series; larger output but needed for animation)
paraview_every: 1
